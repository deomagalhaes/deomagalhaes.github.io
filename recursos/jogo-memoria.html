<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Mem√≥ria de Emo√ß√µes - Vers√£o Melhorada ‚Äì Deo Magalh√£es</title>
    <meta name="description" content="Jogo de mem√≥ria interativo para estimular habilidades cognitivas e reconhecimento de emo√ß√µes. Vers√£o melhorada com placar, n√≠veis e design responsivo.">
    <link rel="icon" type="image/png" href="../assets/favicon2.png">
    <link rel="stylesheet" href="../assets/style.css">
    <style>
        /* Estilos espec√≠ficos do jogo melhorado */
        .game-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .game-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .game-title {
            color: #1B4F72;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .game-subtitle {
            color: #5D6D7E;
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .game-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: nowrap;
            gap: 1rem;
        }

        .game-stats {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .stat-item {
            background: white;
            padding: 0.8rem 1.2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            min-width: 100px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #5D6D7E;
            margin-bottom: 0.3rem;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1B4F72;
        }

        .difficulty-selector {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .difficulty-btn {
            padding: 0.5rem 1rem;
            border: 2px solid #56ACE0;
            background: white;
            color: #56ACE0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .difficulty-btn.active {
            background: #56ACE0;
            color: white;
        }

        .difficulty-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(86, 172, 224, 0.3);
        }

        .memory-game {
            display: grid;
            gap: 0.8rem;
            margin: 2rem 0;
            justify-content: center;
        }

        .memory-game.easy {
            grid-template-columns: repeat(4, 1fr);
            max-width: 400px;
            margin: 2rem auto;
        }

        .memory-game.medium {
            grid-template-columns: repeat(6, 1fr);
            max-width: 600px;
            margin: 2rem auto;
        }

        .memory-game.hard {
            grid-template-columns: repeat(8, 1fr);
            max-width: 800px;
            margin: 2rem auto;
        }

.memory-card {
    aspect-ratio: 1;
    border: none;
    border-radius: 12px;
    font-size: 3rem; /* Tamanho do emoji aumentado */
    cursor: pointer;
    transition: all 0.4s ease;
    position: relative;
    transform-style: preserve-3d;
    background: linear-gradient(135deg, #56ACE0, #4A90E2);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    min-height: 60px;
    
    /* Adicionado para garantir a centraliza√ß√£o perfeita */
    display: flex;
    align-items: center;
    justify-content: center;
}


        .memory-card:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        .memory-card.flipped {
            background: white;
            color: #333;
            transform: rotateY(180deg) scale(1.05);
        }

        .memory-card.matched {
            background: linear-gradient(135deg, #52C41A, #389E0D);
            color: white;
            animation: matchPulse 0.6s ease;
        }

        @keyframes matchPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .card-back {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70%;
            height: 70%;
            background: url('../assets/logo-deo.png') no-repeat center center;
            background-size: contain;
            opacity: 0.8;
        }

        .game-actions {
            text-align: center;
            margin-top: 2rem;
        }

        .restart-btn {
            background: linear-gradient(135deg, #52C41A, #389E0D);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(82, 196, 26, 0.3);
        }

        .restart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(82, 196, 26, 0.4);
        }

        .leaderboard {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .leaderboard h3 {
            color: #1B4F72;
            margin-bottom: 1rem;
            text-align: center;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }

        .leaderboard-item:last-child {
            border-bottom: none;
        }

        .timer {
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
        }

        .celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
            z-index: 1000;
            display: none;
        }

        .celebration.show {
            display: block;
            animation: celebrationPop 0.5s ease;
        }

        @keyframes celebrationPop {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .game-container {
                margin: 1rem;
                padding: 1rem;
            }

            .game-title {
                font-size: 2rem;
            }

            .game-controls {
        flex-direction: column; /* Mantenha como coluna para empilhar os dois grupos */
        align-items: center;   /* Centralize os grupos */
        gap: 1.5rem;           /* Aumente o espa√ßo entre os grupos */
    }

        .game-stats {
        justify-content: center;
        gap: 1rem; /* Reduz o espa√ßo entre os itens de estat√≠stica */
    }

        .stat-item {
        padding: 0.6rem 0.8rem; /* Diminui o padding para caberem na linha */
        min-width: 80px;
    }

        .difficulty-selector {
        justify-content: center;
    }

            .memory-card {
                font-size: 2.2rem;
                min-height: 50px;
            }

            .memory-game.easy {
                grid-template-columns: repeat(3, 1fr);
                max-width: 300px;
            }

            .memory-game.medium {
                grid-template-columns: repeat(4, 1fr);
                max-width: 400px;
            }

            .memory-game.hard {
                grid-template-columns: repeat(5, 1fr);
                max-width: 500px;
            }
        }

@media (max-width: 480px) {
    .memory-card {
        font-size: 1.8rem; /* Recomendo um pouco menor para telas muito pequenas */
        min-height: 40px;
    }

    /* ADICIONE ESTAS NOVAS REGRAS ABAIXO */

    .game-controls {
        gap: 1rem; /* Reduz o espa√ßamento entre os grupos de estat√≠sticas e dificuldade */
    }

    .game-stats {
        gap: 0.5rem; /* Reduz o espa√ßo entre os itens de estat√≠stica */
        flex-wrap: wrap; /* Permite que os itens quebrem a linha se necess√°rio */
        justify-content: center; /* Garante a centraliza√ß√£o mesmo se quebrar a linha */
    }

    .stat-item {
        min-width: 75px; /* Um pouco menor para garantir que caibam 3 na linha */
        padding: 0.5rem 0.5rem; /* Reduz o padding interno */
    }
    
    .stat-label {
        font-size: 0.8rem; /* Diminui o texto do r√≥tulo */
    }

    .stat-value {
        font-size: 1.3rem; /* Diminui o texto do valor */
    }

    .difficulty-selector {
        flex-wrap: nowrap; /* Permite que os bot√µes quebrem a linha */
        justify-content: center; /* Centraliza os bot√µes */
        gap: 0.5rem;
    }

    .difficulty-btn {
        padding: 0.3rem 0.6rem; /* Diminui o padding dos bot√µes */
        font-size: 0.75rem; /* Diminui a fonte dos bot√µes */
    }
}

    </style>
</head>
<body>
    <!-- Cabe√ßalho Padr√£o do Site (Modelo) -->
    <div class="top-bar">
        <div class="container top-bar-content">
            <div class="top-bar-left">
                <a href="https://wa.me/5535933003807" target="_blank" title="WhatsApp"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg></a>
                <a href="mailto:contato@deomagalhaes.com.br" title="E-mail"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a>
            </div>
            <div class="top-bar-right">
                <a href="https://instagram.com/deomagalhaesneuro" target="_blank" title="Instagram"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a>
                <a href="https://maps.app.goo.gl/RzFpdi8WWzzNNHM96" target="_blank" title="Localiza√ß√£o"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg></a>
            </div>
        </div>
    </div>
    <header id="main-header">
        <div class="header-content container">
            <a href="../index.html" class="logo-container">
                <img src="../assets/logo-deo.png" alt="Logotipo Deo Magalh√£es">
                <div class="logo-text">
                    <span class="name">Deo Magalh√£es</span>
                    <span class="subtitle">Neuroci√™ncia e Comportamento</span>
                </div>
            </a>
            <button class="mobile-menu-btn" aria-label="Abrir menu">‚ò∞</button>
            <nav id="main-nav">
                <a href="../index.html">Home</a>
                <a href="../sobre.html">Sobre</a>
                <a href="../servicos.html">Servi√ßos</a>
                <a href="../agendamento.html">Agendamento</a>
                <a href="../artigos.html">Artigos</a>
                <a href="../recursos.html">Recursos</a>
                <a href="../contato.html">Contato</a>
            </nav>
        </div>
    </header>

    <!-- Conte√∫do principal do jogo -->
    <main class="main-content">
        <div class="game-container">
            <div class="game-header">
                <h1 class="game-title">üß† Jogo de Mem√≥ria de Emo√ß√µes</h1>
                <p class="game-subtitle">Teste sua aten√ß√£o e mem√≥ria! Encontre os pares de emo√ß√µes iguais no menor n√∫mero de movimentos poss√≠vel.</p>
            </div>

            <div class="game-controls">
                <div class="game-stats">
                    <div class="stat-item">
                        <div class="stat-label">Movimentos</div>
                        <div class="stat-value" id="moves-count">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Pontua√ß√£o</div>
                        <div class="stat-value" id="score-count">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Tempo</div>
                        <div class="stat-value timer" id="timer">00:00</div>
                    </div>
                </div>

                <div class="difficulty-selector">
                    <button class="difficulty-btn active" data-level="easy">F√°cil (4x3 )</button>
                    <button class="difficulty-btn" data-level="medium">M√©dio (6x4)</button>
                    <button class="difficulty-btn" data-level="hard">Dif√≠cil (8x4)</button>
                </div>
            </div>

            <div id="memory-game" class="memory-game easy"></div>

            <div class="game-actions">
                <button id="restart-memory" class="restart-btn">üîÑ Jogar Novamente</button>
            </div>

            <div class="leaderboard">
                <h3>üèÜ Seus Melhores Resultados</h3>
                <div id="leaderboard-content">
                    <div class="leaderboard-item">
                        <span>Nenhum jogo completado ainda</span>
                        <span>--</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal de celebra√ß√£o -->
        <div id="celebration" class="celebration">
            <h2>üéâ Parab√©ns!</h2>
            <p id="celebration-text">Voc√™ completou o jogo!</p>
            <button onclick="document.getElementById('celebration').classList.remove('show')" class="restart-btn">Continuar</button>
        </div>
    </main>

    <!-- Rodap√© Padr√£o do Site (Modelo) -->
    <footer class="main-footer">
        <div class="container footer-grid">
            <div class="footer-column">
                <h4>Contato</h4>
                <ul>
                    <li><a href="https://wa.me/5535933003807" target="_blank">(35 ) 9 3300-3807</a></li>
                    <li><a href="mailto:contato@deomagalhaes.com.br">contato@deomagalhaes.com.br</a></li>
                    <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg> Guaran√©sia, MG</li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Informa√ß√µes Profissionais</h4>
                <ul>
                    <li>CRP 04/42784</li>
                    <li>Neuropsic√≥logo Cl√≠nico</li>
                    <li>Especialista em Neuroci√™ncias</li>
                    <li>Membro da SBNp</li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Redes Sociais</h4>
                <ul>
                    <li><a href="https://instagram.com/deomagalhaesneuro" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg> @deomagalhaesneuro</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <p>&copy; 2025 Deo Magalh√£es - Neuropsic√≥logo CRP 04/42784. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Script do jogo melhorado -->
    <script>
        (function( ) {
            // Configura√ß√µes dos n√≠veis
            const levels = {
                easy: { 
                    cards: ['üòÄ','üòÄ','üò°','üò°','üò¢','üò¢','üò±','üò±','üòÆ','üòÆ','üò¥','üò¥'],
                    name: 'F√°cil'
                },
                medium: { 
                    cards: ['üòÄ','üòÄ','üò°','üò°','üò¢','üò¢','üò±','üò±','üòÆ','üòÆ','üò¥','üò¥','üòç','üòç','ü§î','ü§î','üòÇ','üòÇ','ü•≥','ü•≥','ü§Ø','ü§Ø','ü§¢','ü§¢'],
                    name: 'M√©dio'
                },
                hard: { 
                    cards: ['üòÄ','üòÄ','üò°','üò°','üò¢','üò¢','üò±','üò±','üòÆ','üòÆ','üò¥','üò¥','üòç','üòç','ü§î','ü§î','üòÇ','üòÇ','ü•≥','ü•≥','ü§Ø','ü§Ø','ü§¢','ü§¢','ü•∫','ü•∫','üòé','üòé','ü§ó','ü§ó','üòá','üòá'],
                    name: 'Dif√≠cil'
                }
            };

            let currentLevel = 'easy';
            let gameCards = [];
            let moves = 0;
            let score = 0;
            let flipped = [];
            let matched = 0;
            let matchedCards = [];
            let gameStartTime = null;
            let gameTimer = null;
            let gameTime = 0;

            // Elementos DOM
            const gameDiv = document.getElementById('memory-game');
            const movesSpan = document.getElementById('moves-count');
            const scoreSpan = document.getElementById('score-count');
            const timerSpan = document.getElementById('timer');
            const restartBtn = document.getElementById('restart-memory');
            const difficultyBtns = document.querySelectorAll('.difficulty-btn');
            const leaderboardContent = document.getElementById('leaderboard-content');
            const celebration = document.getElementById('celebration');
            const celebrationText = document.getElementById('celebration-text');

            // Fun√ß√µes utilit√°rias
            function shuffle(arr) { 
                return arr.sort(() => Math.random() - 0.5); 
            }

            function formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }

            function updateTimer() {
                if (gameStartTime) {
                    gameTime = Math.floor((Date.now() - gameStartTime) / 1000);
                    timerSpan.textContent = formatTime(gameTime);
                }
            }

            function startTimer() {
                gameStartTime = Date.now();
                gameTimer = setInterval(updateTimer, 1000);
            }

            function stopTimer() {
                if (gameTimer) {
                    clearInterval(gameTimer);
                    gameTimer = null;
                }
            }

            // Sistema de leaderboard
            function saveScore() {
                const scores = JSON.parse(localStorage.getItem('memoryScores') || '{}');
                if (!scores[currentLevel]) scores[currentLevel] = [];
                
                scores[currentLevel].push({
                    moves: moves,
                    time: gameTime,
                    score: score,
                    date: new Date().toLocaleDateString('pt-BR')
                });

                // Manter apenas os 5 melhores resultados
                scores[currentLevel].sort((a, b) => a.moves - b.moves || a.time - b.time);
                scores[currentLevel] = scores[currentLevel].slice(0, 5);

                localStorage.setItem('memoryScores', JSON.stringify(scores));
                updateLeaderboard();
            }

            function updateLeaderboard() {
                const scores = JSON.parse(localStorage.getItem('memoryScores') || '{}');
                const levelScores = scores[currentLevel] || [];

                if (levelScores.length === 0) {
                    leaderboardContent.innerHTML = '<div class="leaderboard-item"><span>Nenhum jogo completado ainda</span><span>--</span></div>';
                    return;
                }

                leaderboardContent.innerHTML = levelScores.map((score, index) => `
                    <div class="leaderboard-item">
                        <span>${index + 1}¬∫ lugar - ${score.moves} movimentos</span>
                        <span>${formatTime(score.time)}</span>
                    </div>
                `).join('');
            }

            // Renderiza√ß√£o do jogo
            function renderGame() {
                gameDiv.className = `memory-game ${currentLevel}`;
                gameDiv.innerHTML = '';
                
                gameCards.forEach((card, i) => {
                    const btn = document.createElement('button');
                    btn.className = 'memory-card';
                    btn.setAttribute('data-idx', i);
                    
                    if (flipped.includes(i) || matchedCards.includes(i)) {
                        btn.classList.add('flipped');
                        btn.textContent = card;
                        if (matchedCards.includes(i)) {
                            btn.classList.add('matched');
                        }
                    } else {
                        const backDiv = document.createElement('div');
                        backDiv.className = 'card-back';
                        btn.appendChild(backDiv);
                    }
                    
                    btn.onclick = () => flipCard(i);
                    gameDiv.appendChild(btn);
                });

                movesSpan.textContent = moves;
                scoreSpan.textContent = score;
            }

            // L√≥gica do jogo
            function flipCard(idx) {
                if (flipped.length === 2 || flipped.includes(idx) || matchedCards.includes(idx)) return;
                
                // Iniciar timer no primeiro movimento
                if (moves === 0 && !gameStartTime) {
                    startTimer();
                }
                
                flipped.push(idx);
                renderGame();

                if (flipped.length === 2) {
                    moves++;
                    
                    if (gameCards[flipped[0]] === gameCards[flipped[1]]) {
                        // Acerto
                        const timeBonus = Math.max(0, 50 - gameTime);
                        score += 10 + timeBonus;
                        matchedCards.push(flipped[0], flipped[1]);
                        matched += 2;
                        flipped = [];
                        
                        if (matched === gameCards.length) {
                            setTimeout(endGame, 500);
                        }
                    } else {
                        // Erro
                        setTimeout(() => {
                            flipped = [];
                            renderGame();
                        }, 1200);
                    }
                    renderGame();
                }
            }

            // Fim do jogo
            function endGame() {
                stopTimer();
                saveScore();
                
                const isNewRecord = checkNewRecord();
                celebrationText.innerHTML = `
                    <strong>N√≠vel ${levels[currentLevel].name} completado!</strong><br>
                    Movimentos: ${moves}<br>
                    Tempo: ${formatTime(gameTime)}<br>
                    Pontua√ß√£o: ${score}<br>
                    ${isNewRecord ? '<br>üéâ <strong>Novo recorde pessoal!</strong>' : ''}
                `;
                
                celebration.classList.add('show');
            }

            function checkNewRecord() {
                const scores = JSON.parse(localStorage.getItem('memoryScores') || '{}');
                const levelScores = scores[currentLevel] || [];
                return levelScores.length === 1 || (levelScores.length > 1 && levelScores[0].moves === moves);
            }

            // Controle de dificuldade
            function setDifficulty(level) {
                currentLevel = level;
                difficultyBtns.forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.level === level);
                });
                updateLeaderboard();
                startGame();
            }

            // Inicializa√ß√£o do jogo
            function startGame() {
                stopTimer();
                gameCards = shuffle([...levels[currentLevel].cards]);
                moves = 0;
                score = 0;
                flipped = [];
                matched = 0;
                matchedCards = [];
                gameStartTime = null;
                gameTime = 0;
                timerSpan.textContent = '00:00';
                celebration.classList.remove('show');
                renderGame();
            }

            // Event listeners
            restartBtn.onclick = startGame;
            
            difficultyBtns.forEach(btn => {
                btn.onclick = () => setDifficulty(btn.dataset.level);
            });

            // Inicializar
            updateLeaderboard();
            startGame();
        })();
    </script>
    
    <script src="../assets/script.js"></script>
</body>
</html>