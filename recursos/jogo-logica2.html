<!DOCTYPE html>
<html lang="pt-br">
<head>
    <!-- Google tag (gtag.js), meta tags, etc. -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9X4VW4FNZZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(  ){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-9X4VW4FNZZ');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafios de Lógica - Escolha sua Categoria | Deo Magalhães</title>
    <meta name="description" content="Treine seu cérebro com desafios de lógica numérica, geométrica e verbal.">
    
    <!-- CORREÇÃO: Caminho ajustado para voltar um diretório -->
    <link rel="icon" type="image/png" href="../assets/favicon2.png">
    <link rel="stylesheet" href="../assets/style.css">

    <!-- Estilos específicos da página de jogos de lógica -->
    <style>
        /* ESTILOS DO JOGO E DAS CATEGORIAS */
        #game-wrapper {
            background-color: #E0F7FA;
            background-image: linear-gradient(to bottom, #80DEEA, #E0F7FA);
            padding: 60px 20px;
            min-height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .panel {
            width: 100%;
            max-width: 800px;
            background-color: #FFFFFF;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            padding: 40px;
            text-align: center;
            color: #003366;
            border-top: 5px solid #4A148C;
        }
        .panel h1 { font-size: 2.5em; font-weight: 700; margin-bottom: 15px; }
        .panel p { font-size: 1.2em; margin-bottom: 30px; color: #555; }

        /* TELA DE CATEGORIAS */
        #category-selection .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
        }
        .category-button {
            background-color: #fff;
            border: 2px solid #B3E5FC;
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2em;
            font-weight: 600;
            color: #003366;
        }
        .category-button:hover {
            transform: translateY(-8px);
            border-color: #4A148C;
            box-shadow: 0 8px 20px rgba(74, 20, 140, 0.2);
        }

        /* TELA DO JOGO */
        .pattern-display { display: flex; justify-content: center; align-items: center; gap: 20px; margin-bottom: 30px; padding: 20px; background-color: #f0f4f8; border-radius: 15px; }
        .pattern-item, .option-item { width: 60px; height: 60px; display: flex; justify-content: center; align-items: center; font-size: 2em; font-weight: 600; border-radius: 10px; }
        .pattern-item.placeholder { border: 3px dashed #90A4AE; color: #90A4AE; }
        .options-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .option-button { background-color: #fff; border: 3px solid #B3E5FC; border-radius: 15px; padding: 15px; cursor: pointer; transition: all 0.3s ease; }
        .option-button:hover { transform: translateY(-5px); border-color: #4A148C; box-shadow: 0 6px 15px rgba(74, 20, 140, 0.2); }
        .option-button .option-item { margin: 0 auto; }
        
        /* PAINEL DE FEEDBACK E BOTÕES */
        .feedback-panel { padding: 15px; border-radius: 10px; margin-top: 20px; font-size: 1.1em; font-weight: 600; display: none; }
        .feedback-panel.correct { background-color: #D4EDDA; color: #155724; border: 1px solid #C3E6CB; display: block; }
        .feedback-panel.incorrect { background-color: #F8D7DA; color: #721C24; border: 1px solid #F5C6CB; display: block; }
        .feedback-panel .explanation { font-weight: 400; font-size: 0.9em; margin-top: 5px; }
        .action-buttons { display: flex; justify-content: center; gap: 15px; margin-top: 20px; }
        .action-button { background-color: #4A148C; color: #FFFFFF; border: none; border-radius: 10px; padding: 15px 30px; font-size: 1.1em; font-weight: 600; cursor: pointer; transition: background-color 0.3s; }
        .action-button:hover { background-color: #6A1B9A; }
        .action-button.secondary { background-color: #78909c; }
        .action-button.secondary:hover { background-color: #546e7a; }
        .hidden { display: none !important; }
    </style>

</head>
<body>
    <!-- Bloco de Cabeçalho Padrão -->
    <div class="top-bar">
        <div class="container top-bar-content">
            <div class="top-bar-left">
                <a href="https://wa.me/5535933003807" target="_blank" title="WhatsApp"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg></a>
                <a href="mailto:contato@deomagalhaes.com.br" title="E-mail"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a>
            </div>
            <div class="top-bar-right">
                <a href="https://instagram.com/neuropsiguaranesia" target="_blank" title="Instagram"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a>
                <a href="https://maps.app.goo.gl/RzFpdi8WWzzNNHM96" target="_blank" title="Localização"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg></a>
            </div>
        </div>
    </div>
    <header id="main-header">
        <div class="header-content container">
            <!-- CORREÇÃO: Caminho ajustado para voltar um diretório -->
            <a href="../index.html" class="logo-container">
                <img src="../assets/logo-deo.png" alt="Logotipo Deo Magalhães">
                <div class="logo-text">
                    <span class="name">Deo Magalhães</span>
                    <span class="subtitle">Neurociência e Comportamento</span>
                </div>
            </a>
            <button class="mobile-menu-btn" aria-label="Abrir menu">☰</button>
            <nav id="main-nav">
                <!-- CORREÇÃO: Caminhos ajustados para voltar um diretório -->
                <a href="../index.html">Home</a>
                <a href="../sobre.html">Sobre</a>
                <a href="../servicos.html">Serviços</a>
                <a href="../agendamento.html">Agendamento</a>
                <a href="../artigos.html">Artigos</a>
                <a href="../recursos.html">Recursos</a>
                <a href="../contato.html">Contato</a>
            </nav>
        </div>
    </header>

    <!-- Conteúdo Principal com o Jogo -->
    <main>
        <div id="game-wrapper">
            
            <!-- TELA 1: SELEÇÃO DE CATEGORIA (Visível no início ) -->
            <div id="category-selection" class="panel">
                <h1>Desafios de Lógica</h1>
                <p>Escolha uma categoria para começar a treinar seu cérebro.</p>
                <div class="category-grid">
                    <button class="category-button" data-category="numeric">Raciocínio Numérico</button>
                    <button class="category-button" data-category="geometric">Raciocínio Geométrico</button>
                    <button class="category-button" data-category="verbal">Raciocínio Verbal</button>
                </div>
            </div>

            <!-- TELA 2: JOGO (Escondida no início) -->
            <div id="game-container" class="panel hidden">
                <h1 id="game-title">Decifre o Padrão</h1>
                <p id="level-description">Observe a sequência e escolha a opção que a completa corretamente.</p>
                <div class="pattern-display" id="pattern-container"></div>
                <p>Qual o próximo item da sequência?</p>
                <div class="options-grid" id="options-container"></div>
                <div id="feedback-panel" class="feedback-panel"></div>
                <div class="action-buttons">
                    <button id="back-to-categories" class="action-button secondary">Voltar</button>
                    <button id="next-level-button" class="action-button hidden">Próximo Nível</button>
                </div>
            </div>

        </div>
    </main>

    <!-- RODAPÉ PADRÃO -->
    <footer class="main-footer">
        <div class="container footer-grid">
            <div class="footer-column">
                <h4>Contato</h4>
                <ul>
                    <li><a href="https://wa.me/5535933003807" target="_blank">(35  ) 9 3300-3807</a></li>
                    <li><a href="mailto:contato@deomagalhaes.com.br">contato@deomagalhaes.com.br</a></li>
                    <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg> Guaranésia, MG</li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Informações Profissionais</h4>
                <ul>
                    <li>CRP 04/42784</li>
                    <li>Neuropsicólogo Clínico</li>
                    <li>Especialista em Neurociências</li>
                    <li>Membro da SBNp</li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Redes Sociais</h4>
                <ul>
                    <li><a href="https://instagram.com/neuropsiguaranesia" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg> @neuropsiguaranesia</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <p>&copy; 2025 Deo Magalhães - Neuropsicólogo CRP 04/42784. Todos os direitos reservados.</p>
                <p>Desenvolvido com tecnologia moderna para melhor experiência do usuário.</p>
            </div>
        </div>
    </footer>

    <!-- CORREÇÃO: Caminho ajustado para voltar um diretório -->
    <script src="../assets/script.js"></script>
    
    <!-- Script específico do jogo de lógica -->
    <script>
    document.addEventListener('DOMContentLoaded', ( ) => {
        
        // --- BANCO DE NÍVEIS POR CATEGORIA ---
        const allLevels = {
            numeric: [
                { type: 'number', pattern: [2, 4, 6], options: [7, 8, 10], answer: 8, explanation: 'O padrão é somar 2 a cada número (2, 4, 6, 8...).' },
                { type: 'number', pattern: [20, 17, 14], options: [12, 10, 11], answer: 11, explanation: 'O padrão é subtrair 3 de cada número (20, 17, 14, 11...).' },
                { type: 'number', pattern: [1, 3, 9], options: [12, 18, 27], answer: 27, explanation: 'O padrão é multiplicar o número anterior por 3 (1, 3, 9, 27...).' },
                { type: 'number', pattern: [1, 1, 2, 3, 5], options: [6, 8, 7], answer: 8, explanation: 'Sequência de Fibonacci: cada número é a soma dos dois anteriores (3+5=8).' },
                { type: 'number', pattern: [4, 9, 16, 25], options: [30, 36, 49], answer: 36, explanation: 'A sequência é de quadrados perfeitos (2², 3², 4², 5², 6²=36).' },
            ],
            geometric: [
                { type: 'shape', pattern: ['■', '▲', '●'], options: ['●', '■', '▲'], answer: '■', explanation: 'A sequência de formas (quadrado, triângulo, círculo) se repete.' },
                { type: 'color', pattern: ['#E57373', '#81C784', '#64B5F6'], options: ['#81C784', '#FFF176', '#E57373'], answer: '#E57373', explanation: 'A sequência de cores (vermelho, verde, azul) se repete.' },
                { type: 'rotation', pattern: ['↑', '→', '↓'], options: ['↑', '←', '→'], answer: '←', explanation: 'A seta gira 90 graus no sentido horário a cada passo.' },
                { type: 'shape', pattern: ['+', '×', '+'], options: ['×', '+', '–'], answer: '×', explanation: 'A sequência de formas alterna entre + e ×.' },
                { type: 'shape', pattern: ['⬬', '⬭', '⬮'], options: ['⬯', '⬬', '⚫'], answer: '⬯', explanation: 'A forma "estica" horizontalmente, depois verticalmente, e repete.' },
            ],
            verbal: [
                { type: 'mixed', pattern: ['A1', 'B2', 'C3'], options: ['D4', 'C4', 'D3'], answer: 'D4', explanation: 'A letra segue a ordem alfabética e o número incrementa em 1.' },
                { type: 'letter', pattern: ['A', 'C', 'E', 'G'], options: ['H', 'I', 'J'], answer: 'I', explanation: 'A sequência pula uma letra do alfabeto a cada passo (A, B, C, D, E...).' },
                { type: 'letter', pattern: ['Z', 'Y', 'X'], options: ['W', 'A', 'V'], answer: 'W', explanation: 'A sequência segue o alfabeto em ordem inversa.' },
                { type: 'mixed', pattern: ['Z1', 'Y2', 'X3'], options: ['W4', 'A4', 'V4'], answer: 'W4', explanation: 'A letra segue o alfabeto reverso e o número incrementa em 1.' },
                { type: 'letter', pattern: ['J', 'F', 'M', 'A'], options: ['M', 'S', 'O'], answer: 'M', explanation: 'A sequência representa a inicial dos meses do ano (Janeiro, Fevereiro, Março, Abril, Maio...).' },
            ]
        };

        // --- VARIÁVEIS DE ESTADO DO JOGO ---
        let currentCategoryLevels = [];
        let currentLevelIndex = 0;
        let gameLocked = false;

        // --- SELEÇÃO DOS ELEMENTOS DO DOM ---
        const categorySelectionScreen = document.getElementById('category-selection');
        const gameContainerScreen = document.getElementById('game-container');
        const gameTitle = document.getElementById('game-title');
        const patternContainer = document.getElementById('pattern-container');
        const optionsContainer = document.getElementById('options-container');
        const feedbackPanel = document.getElementById('feedback-panel');
        const nextLevelButton = document.getElementById('next-level-button');
        const backToCategoriesButton = document.getElementById('back-to-categories');

        // --- FUNÇÕES DE CONTROLE DE TELA ---
        function showGameScreen() {
            categorySelectionScreen.classList.add('hidden');
            gameContainerScreen.classList.remove('hidden');
        }

        function showCategoryScreen() {
            gameContainerScreen.classList.add('hidden');
            categorySelectionScreen.classList.remove('hidden');
        }

        // --- LÓGICA DO JOGO ---
        function startGame(category, title) {
            currentCategoryLevels = allLevels[category];
            currentLevelIndex = 0;
            gameTitle.textContent = title;
            showGameScreen();
            loadLevel(currentLevelIndex);
        }

        function createItemElement(item, type) {
            const element = document.createElement('div');
            element.className = 'pattern-item';
            if (type === 'color') {
                element.style.backgroundColor = item;
            } else {
                element.textContent = item;
            }
            return element;
        }

        function loadLevel(levelIndex) {
            gameLocked = false;
            const level = currentCategoryLevels[levelIndex];

            patternContainer.innerHTML = '';
            optionsContainer.innerHTML = '';
            feedbackPanel.className = 'feedback-panel';
            nextLevelButton.classList.add('hidden');

            level.pattern.forEach(item => {
                patternContainer.appendChild(createItemElement(item, level.type));
            });
            const placeholder = document.createElement('div');
            placeholder.className = 'pattern-item placeholder';
            placeholder.textContent = '?';
            patternContainer.appendChild(placeholder);

            level.options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-button';
                const optionElement = createItemElement(option, level.type);
                optionElement.classList.add('option-item');
                button.appendChild(optionElement);
                button.onclick = () => checkAnswer(option, level);
                optionsContainer.appendChild(button);
            });
        }

        function checkAnswer(selectedOption, level) {
            if (gameLocked) return;
            gameLocked = true;

            if (selectedOption === level.answer) {
                let feedbackMessage = `<strong>Correto!</strong> <div class="explanation">${level.explanation}</div>`;
                if (currentLevelIndex < currentCategoryLevels.length - 1) {
                    nextLevelButton.classList.remove('hidden');
                } else {
                    feedbackMessage += ' <strong>Parabéns, você completou todos os desafios desta categoria!</strong>';
                    nextLevelButton.textContent = 'Jogar Novamente';
                    nextLevelButton.classList.remove('hidden');
                }
                feedbackPanel.className = 'feedback-panel correct';
                feedbackPanel.innerHTML = feedbackMessage;
            } else {
                feedbackPanel.className = 'feedback-panel incorrect';
                feedbackPanel.innerHTML = `<strong>Incorreto.</strong> Tente novamente! <div class="explanation">Dica: ${level.explanation}</div>`;
                setTimeout(() => {
                    gameLocked = false;
                    feedbackPanel.className = 'feedback-panel';
                }, 3000);
            }
        }

        // --- EVENT LISTENERS (OUVINTES DE EVENTOS) ---
        document.querySelectorAll('.category-button').forEach(button => {
            button.addEventListener('click', () => {
                const category = button.dataset.category;
                const title = button.innerHTML.replace('  ', ' ');
                startGame(category, title);
            });
        });

        backToCategoriesButton.addEventListener('click', showCategoryScreen);

        nextLevelButton.addEventListener('click', () => {
            if (currentLevelIndex < currentCategoryLevels.length - 1) {
                currentLevelIndex++;
            } else {
                currentLevelIndex = 0; // Reinicia a categoria
            }
            loadLevel(currentLevelIndex);
            nextLevelButton.textContent = 'Próximo Nível';
        });

    });
    </script>
</body>
</html>
