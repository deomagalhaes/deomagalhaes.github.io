<!DOCTYPE html>
<html lang="pt-br">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9X4VW4FNZZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-9X4VW4FNZZ');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Sequência de Cores – Deo Magalhães</title>
    <meta name="description" content="Jogo interativo para desenvolvimento da memória e atenção infantil.">
    
    <link rel="icon" type="image/png" href="../assets/favicon2.png">
    <link rel="stylesheet" href="../assets/style.css">
    <link rel="stylesheet" href="header-footer.css">

    <style>
        /* Estilos específicos do jogo */
        main {
            background-color: #E0F7FA;
            background-image: linear-gradient(to bottom, #80DEEA, #E0F7FA);
            min-height: calc(100vh - 200px);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
        }

        .game-container {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 600px;
            width: 100%;
            color: #333;
            margin-bottom: 20px;
        }

        .game-title {
            font-size: 2.5em;
            color: #4a5568;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .game-subtitle {
            font-size: 1.2em;
            color: #718096;
            margin-bottom: 30px;
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .info-item {
            background: linear-gradient(135deg, #4299e1, #3182ce);
            color: white;
            padding: 15px 20px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 1.1em;
            box-shadow: 0 4px 15px rgba(66, 153, 225, 0.3);
            flex: 1;
            min-width: 120px;
        }

        .sequence-display {
            margin: 30px 0;
            padding: 20px;
            background: #f7fafc;
            border-radius: 15px;
            border: 3px solid #e2e8f0;
        }

        .color-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
        }

        .color-button {
            width: 120px;
            height: 120px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .color-button:hover:not(:disabled) {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.3);
        }

        .color-button:active:not(:disabled) {
            transform: translateY(0);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .color-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .color-button.flash {
            animation: flash 0.6s ease-in-out;
        }

        .red { background: linear-gradient(135deg, #f56565, #e53e3e); }
        .blue { background: linear-gradient(135deg, #4299e1, #3182ce); }
        .green { background: linear-gradient(135deg, #48bb78, #38a169); }
        .yellow { background: linear-gradient(135deg, #ed8936, #dd6b20); }

        .control-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #38a169, #2f855a);
            color: white;
        }

        .btn-primary:hover, .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .message {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1.2em;
            transition: all 0.3s ease;
        }

        .message.success {
            background: linear-gradient(135deg, #c6f6d5, #9ae6b4);
            color: #22543d;
            border: 2px solid #68d391;
        }

        .message.error {
            background: linear-gradient(135deg, #fed7d7, #feb2b2);
            color: #742a2a;
            border: 2px solid #fc8181;
        }

        .message.info {
            background: linear-gradient(135deg, #bee3f8, #90cdf4);
            color: #2a4365;
            border: 2px solid #63b3ed;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e2e8f0;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #48bb78, #38a169);
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .instructions {
            background: #edf2f7;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            color: #4a5568;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .stars {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            font-size: 2em;
        }

        .star {
            color: #e2e8f0;
            transition: color 0.3s ease;
        }

        .star.filled {
            color: #ffd700;
            animation: starShine 0.5s ease-in-out;
        }

        /* Estilos do painel de resultados */
        .results-panel {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            max-width: 600px;
            width: 100%;
            color: #333;
            margin-bottom: 20px;
            display: none;
        }

        .results-panel.active {
            display: block;
        }

        .results-title {
            font-size: 2em;
            color: #4a5568;
            margin-bottom: 20px;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-item {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            display: block;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .history-list {
            max-height: 300px;
            overflow-y: auto;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 15px;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.9em;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .history-date {
            color: #666;
            font-size: 0.8em;
        }

        .clear-data-btn {
            background: linear-gradient(135deg, #e53e3e, #c53030);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9em;
            margin-top: 15px;
        }

        @keyframes flash {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        @keyframes starShine {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        @keyframes celebrate {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(5deg); }
            75% { transform: scale(1.1) rotate(-5deg); }
        }

        .celebrate {
            animation: celebrate 0.6s ease-in-out;
        }

        @media (max-width: 768px) {
            .game-container, .results-panel {
                padding: 20px;
                margin: 10px;
            }
            
            .game-title, .results-title {
                font-size: 2em;
            }
            
            .color-button {
                width: 100px;
                height: 100px;
                font-size: 1.2em;
            }
            
            .color-grid {
                max-width: 300px;
                gap: 15px;
            }
            
            .game-info, .stats-grid {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Cabeçalho Padrão do Site -->
    <div class="top-bar">
        <div class="container top-bar-content">
            <div class="top-bar-left">
                <a href="https://wa.me/5535933003807" target="_blank" title="WhatsApp"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg></a>
                <a href="mailto:contato@deomagalhaes.com.br" title="E-mail"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a>
            </div>
            <div class="top-bar-right">
                <a href="https://instagram.com/deomagalhaesneuro" target="_blank" title="Instagram"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a>
                <a href="https://maps.app.goo.gl/RzFpdi8WWzzNNHM96" target="_blank" title="Localização"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg></a>
            </div>
        </div>
    </div>
    <header id="main-header">
        <div class="header-content container">
            <a href="../index.html" class="logo-container">
                <img src="../assets/logo-deo.png" alt="Logotipo Deo Magalhães">
                <div class="logo-text">
                    <span class="name">Deo Magalhães</span>
                    <span class="subtitle">Neurociência e Comportamento</span>
                </div>
            </a>
            <button class="mobile-menu-btn" aria-label="Abrir menu">☰</button>
            <nav id="main-nav">
                <a href="../index.html">Home</a>
                <a href="../sobre.html">Sobre</a>
                <a href="../servicos.html">Serviços</a>
                <a href="../agendamento.html">Agendamento</a>
                <a href="../artigos.html">Artigos</a>
                <a href="../recursos.html">Recursos</a>
                <a href="../contato.html">Contato</a>
            </nav>
        </div>
    </header>
    
    <main>
        <!-- Painel do Jogo -->
        <div class="game-container" id="game-panel">
            <h1 class="game-title">🌈 Sequência de Cores</h1>
            <p class="game-subtitle">Treine sua memória e atenção!</p>
            
            <div class="instructions">
                <strong>Como jogar:</strong><br>
                1. Observe a sequência de cores que pisca<br>
                2. Repita a sequência clicando nas cores na ordem correta<br>
                3. A cada acerto, a sequência fica maior!
            </div>

            <div class="game-info">
                <div class="info-item">
                    <div>Nível: <span id="level">1</span></div>
                </div>
                <div class="info-item">
                    <div>Pontos: <span id="score">0</span></div>
                </div>
                <div class="info-item">
                    <div>Sequência: <span id="sequence-length">1</span></div>
                </div>
            </div>

            <div class="stars">
                <span class="star" id="star1">⭐</span>
                <span class="star" id="star2">⭐</span>
                <span class="star" id="star3">⭐</span>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>

            <div class="color-grid">
                <button class="color-button red" data-color="red">Vermelho</button>
                <button class="color-button blue" data-color="blue">Azul</button>
                <button class="color-button green" data-color="green">Verde</button>
                <button class="color-button yellow" data-color="yellow">Amarelo</button>
            </div>

            <div class="message" id="message"></div>

            <div class="control-buttons">
                <button class="btn btn-primary" onclick="startGame()">Começar Jogo</button>
                <button class="btn btn-primary" onclick="showSequence()" id="repeat-btn" disabled>Ver Sequência</button>
                <button class="btn btn-secondary" onclick="toggleResults()">Ver Resultados</button>
            </div>
        </div>

        <!-- Painel de Resultados -->
        <div class="results-panel" id="results-panel">
            <h2 class="results-title">📊 Seus Resultados</h2>
            
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-value" id="total-games">0</span>
                    <span class="stat-label">Jogos</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="best-score">0</span>
                    <span class="stat-label">Melhor Pontuação</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="best-level">0</span>
                    <span class="stat-label">Melhor Nível</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="avg-score">0</span>
                    <span class="stat-label">Média de Pontos</span>
                </div>
            </div>

            <h3>Histórico de Jogos</h3>
            <div class="history-list" id="history-list">
                <p style="text-align: center; color: #666;">Nenhum jogo registrado ainda.</p>
            </div>

            <div style="text-align: center;">
                <button class="btn btn-primary" onclick="toggleResults()">Voltar ao Jogo</button>
                <button class="clear-data-btn" onclick="clearGameData()">Limpar Dados</button>
            </div>
        </div>
    </main>

    <!-- Rodapé Padrão do Site -->
    <footer class="main-footer">
        <div class="container footer-grid">
            <div class="footer-column">
                <h4>Contato</h4>
                <ul>
                    <li><a href="https://wa.me/5535933003807" target="_blank">(35) 9 3300-3807</a></li>
                    <li><a href="mailto:contato@deomagalhaes.com.br">contato@deomagalhaes.com.br</a></li>
                    <li><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg> Guaranésia, MG</li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Informações Profissionais</h4>
                <ul>
                    <li>CRP 04/42784</li>
                    <li>Neuropsicólogo Clínico</li>
                    <li>Especialista em Neurociências</li>
                    <li>Membro da SBNp</li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Redes Sociais</h4>
                <ul>
                    <li><a href="https://instagram.com/deomagalhaesneuro" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg> @deomagalhaesneuro</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <p>&copy; 2025 Deo Magalhães - Neuropsicólogo CRP 04/42784. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="../assets/script.js"></script>

    <!-- Script do Jogo com Sistema de Registro -->
    <script>
        class MemorySequenceGame {
            constructor() {
                this.sequence = [];
                this.playerSequence = [];
                this.level = 1;
                this.score = 0;
                this.isShowingSequence = false;
                this.isPlayerTurn = false;
                this.colors = ['red', 'blue', 'green', 'yellow'];
                this.soundEnabled = true;
                this.maxLevel = 10;
                this.gameStartTime = null;
                
                this.initSounds();
                this.bindEvents();
                this.loadGameData();
                this.updateResultsDisplay();
            }

            initSounds() {
                // Criação de sons simples usando Web Audio API
                this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                this.colorSounds = {
                    red: 261.63,    // C4
                    blue: 329.63,   // E4
                    green: 392.00,  // G4
                    yellow: 523.25  // C5
                };
            }

            playSound(color) {
                if (!this.soundEnabled) return;
                
                try {
                    const oscillator = this.audioContext.createOscillator();
                    const gainNode = this.audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(this.audioContext.destination);
                    
                    oscillator.frequency.setValueAtTime(this.colorSounds[color], this.audioContext.currentTime);
                    oscillator.type = 'sine';
                    
                    gainNode.gain.setValueAtTime(0.3, this.audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.5);
                    
                    oscillator.start(this.audioContext.currentTime);
                    oscillator.stop(this.audioContext.currentTime + 0.5);
                } catch (error) {
                    console.log('Som não disponível');
                }
            }

            bindEvents() {
                document.querySelectorAll('.color-button').forEach(button => {
                    button.addEventListener('click', (e) => {
                        if (this.isPlayerTurn && !this.isShowingSequence) {
                            this.handlePlayerInput(e.target.dataset.color);
                        }
                    });
                });
            }

            startGame() {
                this.sequence = [];
                this.playerSequence = [];
                this.level = 1;
                this.score = 0;
                this.gameStartTime = new Date();
                this.updateDisplay();
                this.generateSequence();
                this.showMessage('Prepare-se! A sequência vai começar...', 'info');
                
                setTimeout(() => {
                    this.showSequence();
                }, 1500);
            }

            generateSequence() {
                // Adiciona uma nova cor aleatória à sequência
                const randomColor = this.colors[Math.floor(Math.random() * this.colors.length)];
                this.sequence.push(randomColor);
                this.playerSequence = [];
            }

            async showSequence() {
                this.isShowingSequence = true;
                this.isPlayerTurn = false;
                this.disableButtons();
                this.showMessage('Observe a sequência...', 'info');

                for (let i = 0; i < this.sequence.length; i++) {
                    await this.highlightColor(this.sequence[i]);
                    await this.delay(200);
                }

                this.isShowingSequence = false;
                this.isPlayerTurn = true;
                this.enableButtons();
                this.showMessage('Agora é sua vez! Clique nas cores na ordem correta.', 'info');
                document.getElementById('repeat-btn').disabled = false;
            }

            async highlightColor(color) {
                const button = document.querySelector(`[data-color="${color}"]`);
                button.classList.add('flash');
                this.playSound(color);
                
                await this.delay(600);
                button.classList.remove('flash');
            }

            handlePlayerInput(color) {
                this.playerSequence.push(color);
                this.playSound(color);
                
                const currentIndex = this.playerSequence.length - 1;
                
                // Verifica se a cor está correta na sequência
                if (this.playerSequence[currentIndex] !== this.sequence[currentIndex]) {
                    this.gameOver();
                    return;
                }

                // Se completou a sequência corretamente
                if (this.playerSequence.length === this.sequence.length) {
                    this.score += this.level * 10;
                    this.updateStars();
                    this.showMessage('Parabéns! Sequência correta! 🎉', 'success');
                    
                    if (this.level >= this.maxLevel) {
                        this.showMessage('🏆 Incrível! Você completou todos os níveis! Você é um mestre da memória!', 'success');
                        this.celebrateVictory();
                        this.saveGameResult(true);
                        return;
                    }
                    
                    this.level++;
                    setTimeout(() => {
                        this.nextLevel();
                    }, 2000);
                } else {
                    // Ainda está na sequência correta, mas não terminou
                    this.showMessage(`Muito bem! Continue... (${this.playerSequence.length}/${this.sequence.length})`, 'success');
                }
                
                this.updateDisplay();
            }

            nextLevel() {
                this.generateSequence();
                this.updateDisplay();
                this.showMessage(`Nível ${this.level}! A sequência ficou maior!`, 'info');
                document.getElementById('repeat-btn').disabled = true;
                
                setTimeout(() => {
                    this.showSequence();
                }, 1500);
            }

            gameOver() {
                this.isPlayerTurn = false;
                this.disableButtons();
                this.showMessage('Ops! Sequência incorreta. Tente novamente!', 'error');
                this.saveGameResult(false);
                
                setTimeout(() => {
                    this.startGame();
                }, 2500);
            }

            celebrateVictory() {
                document.querySelector('.game-container').classList.add('celebrate');
                this.updateStars(3);
                
                setTimeout(() => {
                    document.querySelector('.game-container').classList.remove('celebrate');
                }, 1000);
            }

            updateDisplay() {
                document.getElementById('level').textContent = this.level;
                document.getElementById('score').textContent = this.score;
                document.getElementById('sequence-length').textContent = this.sequence.length;
                
                const progress = (this.level / this.maxLevel) * 100;
                document.getElementById('progress').style.width = `${progress}%`;
            }

            updateStars(forceStars = null) {
                const stars = document.querySelectorAll('.star');
                let starsToFill = forceStars;
                
                if (starsToFill === null) {
                    if (this.level <= 3) starsToFill = 1;
                    else if (this.level <= 6) starsToFill = 2;
                    else starsToFill = 3;
                }
                
                stars.forEach((star, index) => {
                    if (index < starsToFill) {
                        star.classList.add('filled');
                    } else {
                        star.classList.remove('filled');
                    }
                });
            }

            showMessage(text, type) {
                const messageEl = document.getElementById('message');
                messageEl.textContent = text;
                messageEl.className = `message ${type}`;
            }

            enableButtons() {
                document.querySelectorAll('.color-button').forEach(button => {
                    button.disabled = false;
                });
            }

            disableButtons() {
                document.querySelectorAll('.color-button').forEach(button => {
                    button.disabled = true;
                });
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            // Sistema de Registro de Resultados
            saveGameResult(completed) {
                const gameData = {
                    date: new Date().toISOString(),
                    score: this.score,
                    level: this.level,
                    completed: completed,
                    duration: this.gameStartTime ? Math.round((new Date() - this.gameStartTime) / 1000) : 0
                };

                let gameHistory = JSON.parse(localStorage.getItem('colorSequenceHistory') || '[]');
                gameHistory.unshift(gameData); // Adiciona no início da lista
                
                // Mantém apenas os últimos 50 jogos
                if (gameHistory.length > 50) {
                    gameHistory = gameHistory.slice(0, 50);
                }
                
                localStorage.setItem('colorSequenceHistory', JSON.stringify(gameHistory));
                this.updateResultsDisplay();
            }

            loadGameData() {
                const history = JSON.parse(localStorage.getItem('colorSequenceHistory') || '[]');
                return history;
            }

            updateResultsDisplay() {
                const history = this.loadGameData();
                
                if (history.length === 0) {
                    document.getElementById('total-games').textContent = '0';
                    document.getElementById('best-score').textContent = '0';
                    document.getElementById('best-level').textContent = '0';
                    document.getElementById('avg-score').textContent = '0';
                    return;
                }

                // Estatísticas
                const totalGames = history.length;
                const bestScore = Math.max(...history.map(game => game.score));
                const bestLevel = Math.max(...history.map(game => game.level));
                const avgScore = Math.round(history.reduce((sum, game) => sum + game.score, 0) / totalGames);

                document.getElementById('total-games').textContent = totalGames;
                document.getElementById('best-score').textContent = bestScore;
                document.getElementById('best-level').textContent = bestLevel;
                document.getElementById('avg-score').textContent = avgScore;

                // Histórico
                const historyList = document.getElementById('history-list');
                if (history.length === 0) {
                    historyList.innerHTML = '<p style="text-align: center; color: #666;">Nenhum jogo registrado ainda.</p>';
                } else {
                    historyList.innerHTML = history.map(game => {
                        const date = new Date(game.date);
                        const dateStr = date.toLocaleDateString('pt-BR') + ' ' + date.toLocaleTimeString('pt-BR', {hour: '2-digit', minute: '2-digit'});
                        const statusIcon = game.completed ? '🏆' : '❌';
                        const durationStr = game.duration > 0 ? ` (${game.duration}s)` : '';
                        
                        return `
                            <div class="history-item">
                                <div>
                                    ${statusIcon} Nível ${game.level} - ${game.score} pontos${durationStr}
                                </div>
                                <div class="history-date">${dateStr}</div>
                            </div>
                        `;
                    }).join('');
                }
            }

            clearGameData() {
                if (confirm('Tem certeza que deseja limpar todos os dados salvos? Esta ação não pode ser desfeita.')) {
                    localStorage.removeItem('colorSequenceHistory');
                    this.updateResultsDisplay();
                    alert('Dados limpos com sucesso!');
                }
            }
        }

        // Inicializar o jogo
        const game = new MemorySequenceGame();

        // Funções globais para os botões
        function startGame() {
            game.startGame();
        }

        function showSequence() {
            if (!game.isShowingSequence && !game.isPlayerTurn) return;
            game.showSequence();
        }

        function toggleResults() {
            const gamePanel = document.getElementById('game-panel');
            const resultsPanel = document.getElementById('results-panel');
            
            if (resultsPanel.classList.contains('active')) {
                resultsPanel.classList.remove('active');
                gamePanel.style.display = 'block';
            } else {
                resultsPanel.classList.add('active');
                gamePanel.style.display = 'none';
                game.updateResultsDisplay();
            }
        }

        function clearGameData() {
            game.clearGameData();
        }

        // Informações sobre o jogo para neuropsicólogos
        console.log(`
        🧠 JOGO DA SEQUÊNCIA DE CORES - DESENVOLVIMENTO INFANTIL
        
        FUNÇÕES COGNITIVAS ESTIMULADAS:
        • Memória de Trabalho: Manutenção e manipulação de informações na memória
        • Atenção Sustentada: Foco contínuo na tarefa
        • Controle Inibitório: Resistir a impulsos e esperar a vez
        • Processamento Sequencial: Compreensão de ordem temporal
        • Coordenação Visomotora: Integração visual-motora
        
        BENEFÍCIOS TERAPÊUTICOS:
        • Fortalece conexões neurais do córtex pré-frontal
        • Melhora capacidade de concentração
        • Desenvolve habilidades de planejamento
        • Estimula a neuroplasticidade
        • Aumenta autoestima através do sucesso progressivo
        
        SISTEMA DE REGISTRO:
        • Salva automaticamente resultados no navegador
        • Registra pontuação, nível alcançado e duração
        • Mantém histórico dos últimos 50 jogos
        • Calcula estatísticas de desempenho
        • Permite acompanhamento da evolução
        
        IDADE RECOMENDADA: 4-12 anos
        DURAÇÃO SUGERIDA: 10-15 minutos por sessão
        `);
    </script>
</body>
</html>

